var Ninja,__hasProp={}.hasOwnProperty,__extends=function(t,e){function r(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Ninja=function(t){function e(t,r,i,n){this.player=n,e.__super__.constructor.call(this,t,r,i)}return __extends(e,t),e.prototype.state="CRUISING",e.prototype.subState="IDLE",e.prototype.speed=3,e.prototype.time=0,e.prototype.render=function(t){var e;return e="LEFT"===this.dir?2:0,e+=utils.counter(2),t.drawSprite(e,1,this.x,this.y)},e.prototype.cruise=function(t,e){var r,i,n;switch(i=n=0,this.subState){case"RIGHT":i+=this.speed,this.dir="RIGHT";break;case"LEFT":i-=this.speed,this.dir="LEFT"}return--this.time<0&&(r=utils.rand(5),this.time=utils.rand(20,40),this.subState=function(){switch(r){case 0:case 1:return"LEFT";case 2:case 3:return"RIGHT";default:return"IDLE"}}()),this.onLadder&&!this.wasOnLadder&&Math.random()<.5&&(this.state="HUNTING"),e===this.y&&(this.state="HUNTING"),[i,n]},e.prototype.hunt=function(t,e){var r,i;return r=i=0,e===this.y||this.onTopOfLadder?t>this.x?(r+=this.speed,this.dir="RIGHT"):(r-=this.speed,this.dir="LEFT"):this.onLadder?(!this.onTopOfLadder&&e<this.y&&(i-=this.speed),e>this.y&&(i+=this.speed)):(this.state="CRUISING",this.subState="LEFT"),[r,i]},e.prototype.update=function(){var t,e,r,i,n;return n=function(){var r;if(this.falling)return[0,0];switch(r=this.player,t=r.x,e=r.y,this.state){case"CRUISING":return this.cruise(t,e);case"HUNTING":return this.hunt(t,e)}}.call(this),r=n[0],i=n[1],this.move(r,i)},e}(Entity);