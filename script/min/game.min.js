var game;game={init:function(){return gfx.init()?(gfx.load(function(){var t,n,e,r,i,u,s,o,a,f;for(o=function(t){return Math.floor(Math.random()*t)},r=function(){return{x:o(gfx.w),y:o(gfx.h)}},t=function(t){return gfx.drawSprite(0,1,t.x,t.y)},s=function(){var t,n;for(n=[],t=0;20>t;t++)n.push(r());return n}(),a=0,f=s.length;f>a;a++)u=s[a],t(u);return e=".............\n...........*.\n....@#@@@@#@.\n.....#....#..\n.....#....#..\n..*..#...@@@.\n..@@@@@...#..\n...#......#..\n...#......#..\n...#......#..\n.OOOOOOOOOOOO",i=function(t){var n,e,r,i,u,s,o;for(i={"@":[4,1],O:[4,0],"*":[5,1],"#":[5,0]},n=function(){var n,e,i,u;for(i=t.split("\n"),u=[],n=0,e=i.length;e>n;n++)r=i[n],u.push(r.split(""));return u}(),o=[],u=0,s=n.length;s>u;u++)r=n[u],o.push(function(){var t,n,u;for(u=[],t=0,n=r.length;n>t;t++)e=r[t],u.push(i[e]);return u}());return o},n=i(e),setInterval(function(){var t,e,r,i,u,s,o,a,f,h;for(player.update(),gfx.clear(),u=o=0,f=n.length;f>o;u=++o)for(t=n[u],r=a=0,h=t.length;h>a;r=++a)e=t[r],e&&(i=r*gfx.tileW,s=u*gfx.tileH,gfx.drawSprite(e[0],e[1],i,s));return player.render(gfx)},33)}),console.log("Ready.")):(alert("Could not set up game canvas"),void 0)}},game.init();